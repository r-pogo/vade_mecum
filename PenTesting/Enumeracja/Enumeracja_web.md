## Gobuster
https://github.com/OJ/gobuster

Used to brute-force URI, directories, folders, DNS subdomains, virtual hosts etc.
Wykorzystuję listę słów do odkrywania ukrytych katalogów i plików poprzez wysyłanie wielu  
zapytań HTTP
````
Reconnaissance ---> Active Scanning ---> Scanning IP Blocks  
                                   |
                                   |---> Wordlist Scanning  
````
## Fuzz Faster U Fool (ffuf) 
Narzędzie do fuzzowania i odkrywania katalogów na stronach internetowych.

# Słowniki 
` sudo apt install seclists`  
albo  
`git clone https://github.com/danielmiessler/SecLists.git`

### Enumeracja katalogów
`gobuster dir-u http://192.168.100.4/-w /usr/share/seclists/Discovery/Web-Content/raft-small-directories.txt`  
lub  
`ffuf-w /usr/share/seclists/Discovery/Web-Content/raft-small-directories.txt-u http://192.168.100.4/FUZZ/`  
`ffuf-w /usr/share/seclists/Discovery/Web-Content/raft-small-directories.txt-u http://192.168.100.4/FUZZ/ -fs <rozmiar>`  

fs <rozmiar> - filtr dla ffuf, aby nie wyświetlał odpowiedzi HTTP o konkretnym rozmiarze


### Enumeracja plików
Wynikiem enumeracji katalogów było `_private`

Wyszukiwany jes ukryty plik php w katalogu _private:

`gobuster dir-u http://192.168.100.4/_private/ -w /usr/share/seclists/Discovery/Web-Content/raft-small-files.txt`  
lub  
`ffuf-w /usr/share/seclists/Discovery/Web-Content/raft-small-files.txt-u http://192.168.100.4/_private/FUZZ`  
`ffuf-w /usr/share/seclists/Discovery/Web-Content/raft-small-files.txt-u http://192.168.100.4/_private/FUZZ -fs <rozmiar>`  


### Enumerating DNS subdomains
`gobuster dns -h` for help  menu

`gobuster dns -d coffeShop.com --show-ip --worldlist /home/student/Desktop/tools/SecLists/Discovery/DNS/subdomains-top1million-5000.txt -o output.txt`

`-d`: to define the top domain for the enumeration  
`--show-ips`: to see IP addresses of the subdomains enumerated  
`--wordlist`: specify the wrodlist to be used  
`-o`: to define the output file where to save the results  

### Enumeracja hostów i subdomeny
Brute forcing enumeration of the web pages that are not available externally like te admin web page
How can the web server know which website to return when we do a get request? By the host header on the request.
Check header Host in for example burp suite. You can change these sub domains manually and see if you find something.

Host: blog.coffeShop.com
Host: user.coffeShop.com
Host: 123.coffeShop.com
...

Do it manually will take forever, so it is better to enumerate with gobuster.

`gobuster vhost -h`

`gobuster vhost -u http://blog.coffeShop.com -w /home/student/Desktop/tools/SecLists/Discovery/DNS/subdomains-top1million-5000.txt --domain coffeShop. -o output.txt`

`-u`: to define server that I'm testing
`-w`: to defin the word list
`--domain`: to define the domain that will be appended to the world list. Every word i the wordlist  
will be appended with the .coffeeShop.com
`-o`: output file

Look for the 200 status result in the output.
Change the host header in burp suit with the subdomain:
instead of blog.coffeShop.com for example admin.coffeShop.com
If you want  to use browser you can use the ip address of cofeeShop with the subdomain: example: 192.168.1.50 admin.coffeShop.com 
edit like that the `/etc/host` file

Inny przykład: Znalezienie ukrytego wirtualnego hosta skonfigurowanego na `http://192.168.100.4`

`gobuster vhost-u http://192.168.100.4/ -w /usr/share/seclists/Discovery/DNS/fierce-hostlist.txt`  
lub  
`ffuf-w /usr/share/seclists/Discovery/DNS/fierce-hostlist.txt-u http://192.168.100.4/ -H 'Host: FUZZ'`  
`ffuf-w /usr/share/seclists/Discovery/DNS/fierce-hostlist.txt-u http://192.168.100.4/ -H 'Host: FUZZ' -fs <rozmiar>`

Wynik to `business`

Znalezienie subdomeny domeny business:  
`gobuster vhost-u http://192.168.100.4/ -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt --domain business --append-domain`  
lub  
`ffuf-w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt -u http://192.168.100.4/ -H 'Host: FUZZ.business'`  
`ffuf-w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt -u http://192.168.100.4/ -H 'Host: FUZZ.business' -fs <rozmiar>`

### Enumeracja parametrów HTTP
Znalezienie prawidłowego hasła dla parametru password:
`http://192.168.100.4/4.5.php?password=guess`

`gobuster nie wspiera enumeracji parametrów`  
`ffuf-w /usr/share/seclists/Passwords/darkweb2017-top100.txt -u 'http://192.168.100.4/4.5.php?password=FUZZ'`ffuf-w /usr/share/seclists/Passwords/darkweb2017-top100.txt -u 'http://192.168.100.4/4.5.php?password=FUZZ' -fs <rozmiar>`
